export let h=(e,t={},...s)=>({e:e,p:t,c:s});export let x=(e,...t)=>{let s=[h()];let c=0;let n=(e,t,s,c)=>{if(!(e=e.substring(t)))return[e,c];let n=e.match(s);return[e.substring(n[0].length),n[1]]};return e.forEach((e,r)=>{for(;e;){let o;switch(e=e.trimLeft(),c){case 0:"<"===e[0]?"/"===e[1]?([e]=n(e,2,/^(\w+)/,t[r]),c=2):([e,o]=n(e,1,/^(\w+)/,t[r]),s.push(h(o,{})),c=1):([e,o]=n(e,0,/^([^<]+)/,""),s[s.length-1].c.push(o));break;case 1:if("/"===e[0]&&">"===e[1])s[s.length-2].c.push(s.pop()),c=0,e=e.substring(2);else if(">"===e[0])c=0,e=e.substring(1);else{[e,o]=n(e,0,/^([\w-]+)=/,"");let c=o;[e,o]=n(e,0,/^"([^"]*)"/,t[r]),s[s.length-1].p[c]=o}break;case 2:s[s.length-2].c.push(s.pop()),e=e.substring(1),c=0}}0===c&&(s[s.length-1].c=s[s.length-1].c.concat(t[r]))}),s[0].c[0]};let e,t,s=0;let c=t=>{let c=e[s++];return c||(c={value:t},e.push(c)),c};export let useReducer=(e,s)=>{let n=c(s),r=t;return[n.value,t=>{n.value=e(n.value,t),r()}]};export let useState=e=>useReducer((e,t)=>t,e);export let useEffect=(e,t=[])=>{let s=c();n(s.value,t)&&(s.value=t,e())};let n=(e,t)=>!e||t.some((t,s)=>t!==e[s]);export let render=(c,n,r)=>{c=[].concat(c);let o,u={},l=n.h||{};for(n.h={},c.forEach((o,h)=>{for(t=()=>render(c,n);"function"==typeof o.e;){let c=o.p&&o.p.k||""+o.e+(u[o.e]=(u[o.e]||1)+1);e=l[c]||[],s=0,o=o.e(o.p,o.c,t),n.h[c]=e}r=r||"svg"===o.e;let p=n.childNodes[h];if(p&&(o.e?p.e===o.e:p.data===o)||(p=n.insertBefore((()=>o.e?r?document.createElementNS("http://www.w3.org/2000/svg",o.e):document.createElement(o.e):document.createTextNode(o))(),p)),o.e){p.e=o.e;for(let e in o.p)p[e]!==o.p[e]&&(r?p.setAttribute(e,o.p[e]):p[e]=o.p[e]);render(o.c,p,r)}else p.data=o});o=n.childNodes[c.length];)n.removeChild(o)};
