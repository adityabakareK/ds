export const h=(e,t={},...r)=>({e:e,p:t,c:r});export const x=(e,...t)=>{const r=[h()];let c=0;const n=(e,t,r,c)=>{if(!(e=e.substring(t)))return[e,c];const n=e.match(r);return[e.substring(n[0].length),n[1]]};return e.forEach((e,s)=>{for(;e;){let o;switch(e=e.trimLeft(),c){case 0:"<"===e[0]?"/"===e[1]?([e]=n(e,2,/^([a-zA-Z0-9_-]+)/,t[s]),c=2):([e,o]=n(e,1,/^([a-zA-Z0-9_-]+)/,t[s]),r.push(h(o,{})),c=1):([e,o]=n(e,0,/^([^<]+)/,""),r[r.length-1].c.push(o));break;case 1:if("/"===e[0]&&">"===e[1])r[r.length-2].c.push(r.pop()),c=0,e=e.substring(2);else if(">"===e[0])c=0,e=e.substring(1);else{[e,o]=n(e,0,/^([a-zA-Z0-9_-]+)=/,"");let c=o;[e,o]=n(e,0,/^"([^"]*)"/,t[s]),r[r.length-1].p[c]=o}break;case 2:r[r.length-2].c.push(r.pop()),e=e.substring(1),c=0}}0===c&&(r[r.length-1].c=r[r.length-1].c.concat(t[s]))}),r[0].c[0]};let e,t,r=0,c=t=>{let c=e[r++];return c||(c={value:t},e.push(c)),c};export const useReducer=(e,r)=>{const n=c(r),s=t;return[n.value,t=>{n.value=e(n.value,t),s()}]};export const useState=e=>useReducer((e,t)=>t,e);export const useEffect=(e,t=[])=>{const r=c();n(r.value,t)&&(r.value=t,e())};const n=(e,t)=>!e||t.some((t,r)=>t!==e[r]);export const render=(c,n)=>{c=[].concat(c);let s,o={},l=n.h||{};for(n.h={},c.forEach((s,u)=>{for(t=()=>render(c,n);"function"==typeof s.e;){let c=s.p&&s.p.k||""+s.e+(o[s.e]=(o[s.e]||1)+1);e=l[c]||[],r=0,s=s.e(s.p,s.c,t),n.h[c]=e}let a=n.childNodes[u];if(a&&(s.e?a.e===s.e:a.data===s)||(a=n.insertBefore((()=>s.e?document.createElement(s.e):document.createTextNode(s))(),a)),s.e){a.e=s.e;for(let e in s.p)a[e]!==s.p[e]&&(a[e]=s.p[e]);render(s.c,a)}else a.data=s});s=n.childNodes[c.length];)n.removeChild(s)};
